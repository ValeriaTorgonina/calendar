!function(t){var o={};function e(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=o,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var i in t)e.d(r,i,function(o){return t[o]}.bind(null,i));return r},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});new(e(1).Field)(document.all.field)},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e(2),i=function(){function t(t){this.domElem=t,this.getCoords(),this.manager=new r.TravelManager(this),this.manager.run()}return t.prototype.getCoords=function(){this.coords=this.domElem.getBoundingClientRect()},t.prototype.createBall=function(){var t=document.createElement("div");return this.addBall(t),t},t.prototype.addBall=function(t){this.domElem.appendChild(t),t.classList.add("ball")},t}();o.Field=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e(3),i=function(){function t(t){this.field=t,this.balls=[],this.button=document.querySelector("button"),this.addBall(),this.clickButton()}return t.prototype.clickButton=function(){var t=this;this.button.onclick=function(){t.addBall()}},t.prototype.removeBall=function(){this.balls.pop()},t.prototype.addBall=function(){var t=this.field.createBall();this.balls.push(new r.Ball(t,this.field.coords))},t.prototype.checkingConditionsForVectorChange=function(){var t=this,o=this.balls.filter(function(o){return o.coords.top<=t.field.coords.top||o.coords.left<=t.field.coords.left||o.coords.right>=t.field.coords.right||o.coords.bottom>=t.field.coords.bottom||t.checkingBallCrossing(o)});this.changeVector(o)},t.prototype.checkingBallCrossing=function(t){var o=this;return!!this.balls.filter(function(o){return o!==t}).find(function(e){return o.isCrossingWithBall(t.coords,e.coords)})},t.prototype.isCrossingWithBall=function(t,o){return t.right>=o.left&&t.right<o.right&&o.top-t.top<40&&t.top-o.top<40||t.left<=o.right&&t.left>o.left&&o.top-t.top<40&&t.top-o.top<40||t.bottom>=o.top&&t.bottom<o.bottom&&o.left-t.left<40&&t.left-o.left<40||t.top<=o.bottom&&t.top>o.top&&o.left-t.left<40&&t.left-o.left<40},t.prototype.changeVector=function(t){var o=this;t.forEach(function(t){var e=o.computeBallVector(t),r=e.vectorX,i=e.vectorY;t.vectorX=r,t.vectorY=i,t.reverseDecor()})},t.prototype.computeBallVector=function(t){return t.coords.top<=this.field.coords.top&&t.vectorX>0||t.coords.left<=this.field.coords.left&&t.vectorY>0?{vectorX:4,vectorY:4}:t.coords.top<=this.field.coords.top&&t.vectorX<0||t.coords.right>=this.field.coords.right&&t.vectorY>0?{vectorX:-4,vectorY:4}:t.coords.left<=this.field.coords.left&&t.vectorY<0||t.coords.bottom>=this.field.coords.bottom&&t.vectorX>0?{vectorX:4,vectorY:-4}:t.coords.right>=this.field.coords.right&&t.vectorY<0||t.coords.bottom>=this.field.coords.bottom&&t.vectorX<0?{vectorX:-4,vectorY:-4}:{vectorY:-1*t.vectorY,vectorX:-1*t.vectorX}},t.prototype.run=function(){var t,o,e,r,i,c=this;o=(t={timing:n,draw:function(){c.balls.forEach(function(t){return t.move()}),c.checkingConditionsForVectorChange()}}).timing,e=t.draw,r=t.duration,i=performance.now(),requestAnimationFrame(function t(n){var c=(n-i)/(r||1);c>1&&(c=r?1:0);var s=o(c);e(s),c<1&&requestAnimationFrame(t)})},t}();function n(t){return t}o.TravelManager=i},function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(t,o){this.domElem=t,this.fieldCoords=o,this.vectorX=4,this.vectorY=4,this.getCoords(),this.createDecor()}return t.prototype.createDecor=function(){var t=document.createElement("div");this.addDecor(t)},t.prototype.addDecor=function(t){this.domElem.appendChild(t),t.classList.add("decor"),this.decor=t},t.prototype.reverseDecor=function(){"normal"===this.decor.style.animationDirection?this.decor.style.animationDirection="reverse":this.decor.style.animationDirection="normal"},t.prototype.move=function(){this.domElem.style.left=this.coords.left-(this.fieldCoords.left+2)+this.vectorX+"px",this.domElem.style.top=this.coords.top-(this.fieldCoords.top+2)+this.vectorY+"px",this.getCoords()},t.prototype.getCoords=function(){this.coords=this.domElem.getBoundingClientRect()},t}();o.Ball=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vYXBwL2luZGV4LnRzIiwid2VicGFjazovLy8uL2FwcC9maWVsZC50cyIsIndlYnBhY2s6Ly8vLi9hcHAvdHJhdmVsTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9hcHAvYmFsbC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkZpZWxkIiwiZG9jdW1lbnQiLCJhbGwiLCJ0cmF2ZWxNYW5hZ2VyXzEiLCJkb21FbGVtIiwidGhpcyIsImdldENvb3JkcyIsIm1hbmFnZXIiLCJUcmF2ZWxNYW5hZ2VyIiwicnVuIiwiY29vcmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY3JlYXRlQmFsbCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJhZGRCYWxsIiwiYmFsbCIsImFwcGVuZENoaWxkIiwiY2xhc3NMaXN0IiwiYWRkIiwiYmFsbF8xIiwiZmllbGQiLCJiYWxscyIsImJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3IiLCJjbGlja0J1dHRvbiIsIl90aGlzIiwib25jbGljayIsInJlbW92ZUJhbGwiLCJwb3AiLCJwdXNoIiwiQmFsbCIsImNoZWNraW5nQ29uZGl0aW9uc0ZvclZlY3RvckNoYW5nZSIsImRlc2lyZWRCYWxscyIsImZpbHRlciIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImNoZWNraW5nQmFsbENyb3NzaW5nIiwiY2hhbmdlVmVjdG9yIiwic291cmNlIiwiYiIsImZpbmQiLCJpc0Nyb3NzaW5nV2l0aEJhbGwiLCJlbCIsImVsMiIsImZvckVhY2giLCJfYSIsImNvbXB1dGVCYWxsVmVjdG9yIiwidmVjdG9yWCIsInZlY3RvclkiLCJyZXZlcnNlRGVjb3IiLCJ0aW1pbmciLCJkcmF3IiwiZHVyYXRpb24iLCJzdGFydCIsImxpbmVhciIsIm1vdmUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFuaW1hdGUiLCJ0aW1lIiwidGltZUZyYWN0aW9uIiwicHJvZ3Jlc3MiLCJmaWVsZENvb3JkcyIsImNyZWF0ZURlY29yIiwiYWRkRGVjb3IiLCJkZWNvciIsInN0eWxlIiwiYW5pbWF0aW9uRGlyZWN0aW9uIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFF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LE1BQU1DLE1BQU1DLG1CQUNibEUsS0FBS2dFLE1BQU1DLE1BQU1DLG1CQUFxQixVQUN0Q2xFLEtBQUtnRSxNQUFNQyxNQUFNQyxtQkFBcUIsVUFFOUN4QyxFQUFLbkMsVUFBVThELEtBQU8sV0FDbEJyRCxLQUFLRCxRQUFRa0UsTUFBTWxDLEtBQU8vQixLQUFLSyxPQUFPMEIsTUFBUS9CLEtBQUs2RCxZQUFZOUIsS0FBTyxHQUFLL0IsS0FBSzZDLFFBQVUsS0FDMUY3QyxLQUFLRCxRQUFRa0UsTUFBTW5DLElBQU05QixLQUFLSyxPQUFPeUIsS0FBTzlCLEtBQUs2RCxZQUFZL0IsSUFBTSxHQUFLOUIsS0FBSzhDLFFBQVUsS0FDdkY5QyxLQUFLQyxhQUVUeUIsRUFBS25DLFVBQVVVLFVBQVksV0FDdkJELEtBQUtLLE9BQVNMLEtBQUtELFFBQVFPLHlCQUV4Qm9CLEVBL0JjLEdBaUN6QmpFLEVBQVFpRSxLQUFPQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIGZpZWxkXzEgPSByZXF1aXJlKFwiLi9maWVsZFwiKTtcclxudmFyIGZpZWxkID0gbmV3IGZpZWxkXzEuRmllbGQoZG9jdW1lbnQuYWxsWydmaWVsZCddKTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYVc1a1pYZ3Vhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdUxpOHVMaTloY0hBdmFXNWtaWGd1ZEhNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN1FVRkJRU3hwUTBGQk9FSTdRVUZGT1VJc1NVRkJUU3hMUVVGTExFZEJRVWNzU1VGQlNTeGhRVUZMTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWRCUVVjc1EwRkJReXhQUVVGUExFTkJRVU1zUTBGQlF5eERRVUZESW4wPSIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciB0cmF2ZWxNYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi90cmF2ZWxNYW5hZ2VyXCIpO1xyXG52YXIgRmllbGQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBGaWVsZChkb21FbGVtKSB7XHJcbiAgICAgICAgdGhpcy5kb21FbGVtID0gZG9tRWxlbTtcclxuICAgICAgICB0aGlzLmdldENvb3JkcygpO1xyXG4gICAgICAgIHRoaXMubWFuYWdlciA9IG5ldyB0cmF2ZWxNYW5hZ2VyXzEuVHJhdmVsTWFuYWdlcih0aGlzKTtcclxuICAgICAgICB0aGlzLm1hbmFnZXIucnVuKCk7XHJcbiAgICB9XHJcbiAgICBGaWVsZC5wcm90b3R5cGUuZ2V0Q29vcmRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY29vcmRzID0gdGhpcy5kb21FbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgfTtcclxuICAgIEZpZWxkLnByb3RvdHlwZS5jcmVhdGVCYWxsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmFkZEJhbGwoZGl2KTtcclxuICAgICAgICByZXR1cm4gZGl2O1xyXG4gICAgfTtcclxuICAgIEZpZWxkLnByb3RvdHlwZS5hZGRCYWxsID0gZnVuY3Rpb24gKGJhbGwpIHtcclxuICAgICAgICB0aGlzLmRvbUVsZW0uYXBwZW5kQ2hpbGQoYmFsbCk7XHJcbiAgICAgICAgYmFsbC5jbGFzc0xpc3QuYWRkKCdiYWxsJyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZpZWxkO1xyXG59KCkpO1xyXG5leHBvcnRzLkZpZWxkID0gRmllbGQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVptbGxiR1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sY3lJNld5SXVMaTh1TGk5aGNIQXZabWxsYkdRdWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdRVUZEUVN4cFJFRkJPRU03UVVGRk4wTTdTVUZKUnl4bFFVRnpRaXhQUVVGMVFqdFJRVUYyUWl4WlFVRlBMRWRCUVZBc1QwRkJUeXhEUVVGblFqdFJRVU42UXl4SlFVRkpMRU5CUVVNc1UwRkJVeXhGUVVGRkxFTkJRVU03VVVGRGFrSXNTVUZCU1N4RFFVRkRMRTlCUVU4c1IwRkJSeXhKUVVGSkxEWkNRVUZoTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1VVRkRka01zU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4SFFVRkhMRVZCUVVVc1EwRkJRenRKUVVOMlFpeERRVUZETzBsQlJWTXNlVUpCUVZNc1IwRkJia0k3VVVGRFNTeEpRVUZKTEVOQlFVTXNUVUZCVFN4SFFVRkhMRWxCUVVrc1EwRkJReXhQUVVGUExFTkJRVU1zY1VKQlFYRkNMRVZCUVVVc1EwRkJRenRKUVVOMlJDeERRVUZETzBsQlJVRXNNRUpCUVZVc1IwRkJWanRSUVVOSkxFbEJRVTBzUjBGQlJ5eEhRVUZITEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU03VVVGRE1VTXNTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF6dFJRVU5zUWl4UFFVRlBMRWRCUVVjc1EwRkJRVHRKUVVOa0xFTkJRVU03U1VGRlJpeDFRa0ZCVHl4SFFVRlFMRlZCUVZFc1NVRkJiMEk3VVVGRGVFSXNTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhYUVVGWExFTkJRVU1zU1VGQlNTeERRVUZETEVOQlFVTTdVVUZETDBJc1NVRkJTU3hEUVVGRExGTkJRVk1zUTBGQlF5eEhRVUZITEVOQlFVTXNUVUZCVFN4RFFVRkRMRU5CUVVNN1NVRkRMMElzUTBGQlF6dEpRVWRNTEZsQlFVTTdRVUZCUkN4RFFVRkRMRUZCTVVKQkxFbEJNRUpCTzBGQk1VSmhMSE5DUVVGTEluMD0iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYmFsbF8xID0gcmVxdWlyZShcIi4vYmFsbFwiKTtcclxudmFyIFRyYXZlbE1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUcmF2ZWxNYW5hZ2VyKGZpZWxkKSB7XHJcbiAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkO1xyXG4gICAgICAgIHRoaXMuYmFsbHMgPSBbXTtcclxuICAgICAgICB0aGlzLmJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpO1xyXG4gICAgICAgIHRoaXMuYWRkQmFsbCgpO1xyXG4gICAgICAgIHRoaXMuY2xpY2tCdXR0b24oKTtcclxuICAgICAgICAvLyB0aGlzLnJ1bigpXHJcbiAgICB9XHJcbiAgICBUcmF2ZWxNYW5hZ2VyLnByb3RvdHlwZS5jbGlja0J1dHRvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmFkZEJhbGwoKTtcclxuICAgICAgICAgICAgLy90aGlzLmNoZWNraW5nQmFsbENyb3NzaW5nKClcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIFRyYXZlbE1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUJhbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5iYWxscy5wb3AoKTtcclxuICAgIH07XHJcbiAgICBUcmF2ZWxNYW5hZ2VyLnByb3RvdHlwZS5hZGRCYWxsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkaXYgPSB0aGlzLmZpZWxkLmNyZWF0ZUJhbGwoKTtcclxuICAgICAgICB0aGlzLmJhbGxzLnB1c2gobmV3IGJhbGxfMS5CYWxsKGRpdiwgdGhpcy5maWVsZC5jb29yZHMpKTtcclxuICAgIH07XHJcbiAgICBUcmF2ZWxNYW5hZ2VyLnByb3RvdHlwZS5jaGVja2luZ0NvbmRpdGlvbnNGb3JWZWN0b3JDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgZGVzaXJlZEJhbGxzID0gdGhpcy5iYWxscy5maWx0ZXIoZnVuY3Rpb24gKGJhbGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJhbGwuY29vcmRzLnRvcCA8PSBfdGhpcy5maWVsZC5jb29yZHMudG9wXHJcbiAgICAgICAgICAgICAgICB8fCBiYWxsLmNvb3Jkcy5sZWZ0IDw9IF90aGlzLmZpZWxkLmNvb3Jkcy5sZWZ0XHJcbiAgICAgICAgICAgICAgICB8fCBiYWxsLmNvb3Jkcy5yaWdodCA+PSBfdGhpcy5maWVsZC5jb29yZHMucmlnaHRcclxuICAgICAgICAgICAgICAgIHx8IGJhbGwuY29vcmRzLmJvdHRvbSA+PSBfdGhpcy5maWVsZC5jb29yZHMuYm90dG9tXHJcbiAgICAgICAgICAgICAgICB8fCBfdGhpcy5jaGVja2luZ0JhbGxDcm9zc2luZyhiYWxsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNoYW5nZVZlY3RvcihkZXNpcmVkQmFsbHMpO1xyXG4gICAgfTtcclxuICAgIFRyYXZlbE1hbmFnZXIucHJvdG90eXBlLmNoZWNraW5nQmFsbENyb3NzaW5nID0gZnVuY3Rpb24gKHNvdXJjZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5iYWxsc1xyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChiKSB7IHJldHVybiBiICE9PSBzb3VyY2U7IH0pXHJcbiAgICAgICAgICAgIC5maW5kKGZ1bmN0aW9uIChiKSB7IHJldHVybiBfdGhpcy5pc0Nyb3NzaW5nV2l0aEJhbGwoc291cmNlLmNvb3JkcywgYi5jb29yZHMpOyB9KTtcclxuICAgIH07XHJcbiAgICBUcmF2ZWxNYW5hZ2VyLnByb3RvdHlwZS5pc0Nyb3NzaW5nV2l0aEJhbGwgPSBmdW5jdGlvbiAoZWwsIGVsMikge1xyXG4gICAgICAgIHJldHVybiBlbC5yaWdodCA+PSBlbDIubGVmdCAmJiBlbC5yaWdodCA8IGVsMi5yaWdodCAmJiBlbDIudG9wIC0gZWwudG9wIDwgNDAgJiYgZWwudG9wIC0gZWwyLnRvcCA8IDQwXHJcbiAgICAgICAgICAgIHx8IGVsLmxlZnQgPD0gZWwyLnJpZ2h0ICYmIGVsLmxlZnQgPiBlbDIubGVmdCAmJiBlbDIudG9wIC0gZWwudG9wIDwgNDAgJiYgZWwudG9wIC0gZWwyLnRvcCA8IDQwXHJcbiAgICAgICAgICAgIHx8IGVsLmJvdHRvbSA+PSBlbDIudG9wICYmIGVsLmJvdHRvbSA8IGVsMi5ib3R0b20gJiYgZWwyLmxlZnQgLSBlbC5sZWZ0IDwgNDAgJiYgZWwubGVmdCAtIGVsMi5sZWZ0IDwgNDBcclxuICAgICAgICAgICAgfHwgZWwudG9wIDw9IGVsMi5ib3R0b20gJiYgZWwudG9wID4gZWwyLnRvcCAmJiBlbDIubGVmdCAtIGVsLmxlZnQgPCA0MCAmJiBlbC5sZWZ0IC0gZWwyLmxlZnQgPCA0MDtcclxuICAgIH07XHJcbiAgICBUcmF2ZWxNYW5hZ2VyLnByb3RvdHlwZS5jaGFuZ2VWZWN0b3IgPSBmdW5jdGlvbiAoZGVzaXJlZEJhbGxzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBkZXNpcmVkQmFsbHMuZm9yRWFjaChmdW5jdGlvbiAoYmFsbCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5jb21wdXRlQmFsbFZlY3RvcihiYWxsKSwgdmVjdG9yWCA9IF9hLnZlY3RvclgsIHZlY3RvclkgPSBfYS52ZWN0b3JZO1xyXG4gICAgICAgICAgICBiYWxsLnZlY3RvclggPSB2ZWN0b3JYO1xyXG4gICAgICAgICAgICBiYWxsLnZlY3RvclkgPSB2ZWN0b3JZO1xyXG4gICAgICAgICAgICBiYWxsLnJldmVyc2VEZWNvcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFRyYXZlbE1hbmFnZXIucHJvdG90eXBlLmNvbXB1dGVCYWxsVmVjdG9yID0gZnVuY3Rpb24gKGJhbGwpIHtcclxuICAgICAgICBpZiAoYmFsbC5jb29yZHMudG9wIDw9IHRoaXMuZmllbGQuY29vcmRzLnRvcCAmJiBiYWxsLnZlY3RvclggPiAwXHJcbiAgICAgICAgICAgIHx8IGJhbGwuY29vcmRzLmxlZnQgPD0gdGhpcy5maWVsZC5jb29yZHMubGVmdCAmJiBiYWxsLnZlY3RvclkgPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciB2ZWN0b3JYID0gNDtcclxuICAgICAgICAgICAgdmFyIHZlY3RvclkgPSA0O1xyXG4gICAgICAgICAgICByZXR1cm4geyB2ZWN0b3JYOiB2ZWN0b3JYLCB2ZWN0b3JZOiB2ZWN0b3JZIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChiYWxsLmNvb3Jkcy50b3AgPD0gdGhpcy5maWVsZC5jb29yZHMudG9wICYmIGJhbGwudmVjdG9yWCA8IDBcclxuICAgICAgICAgICAgfHwgYmFsbC5jb29yZHMucmlnaHQgPj0gdGhpcy5maWVsZC5jb29yZHMucmlnaHQgJiYgYmFsbC52ZWN0b3JZID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgdmVjdG9yWCA9IC00O1xyXG4gICAgICAgICAgICB2YXIgdmVjdG9yWSA9IDQ7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZlY3Rvclg6IHZlY3RvclgsIHZlY3Rvclk6IHZlY3RvclkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJhbGwuY29vcmRzLmxlZnQgPD0gdGhpcy5maWVsZC5jb29yZHMubGVmdCAmJiBiYWxsLnZlY3RvclkgPCAwXHJcbiAgICAgICAgICAgIHx8IGJhbGwuY29vcmRzLmJvdHRvbSA+PSB0aGlzLmZpZWxkLmNvb3Jkcy5ib3R0b20gJiYgYmFsbC52ZWN0b3JYID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgdmVjdG9yWCA9IDQ7XHJcbiAgICAgICAgICAgIHZhciB2ZWN0b3JZID0gLTQ7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZlY3Rvclg6IHZlY3RvclgsIHZlY3Rvclk6IHZlY3RvclkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJhbGwuY29vcmRzLnJpZ2h0ID49IHRoaXMuZmllbGQuY29vcmRzLnJpZ2h0ICYmIGJhbGwudmVjdG9yWSA8IDBcclxuICAgICAgICAgICAgfHwgYmFsbC5jb29yZHMuYm90dG9tID49IHRoaXMuZmllbGQuY29vcmRzLmJvdHRvbSAmJiBiYWxsLnZlY3RvclggPCAwKSB7XHJcbiAgICAgICAgICAgIHZhciB2ZWN0b3JYID0gLTQ7XHJcbiAgICAgICAgICAgIHZhciB2ZWN0b3JZID0gLTQ7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZlY3Rvclg6IHZlY3RvclgsIHZlY3Rvclk6IHZlY3RvclkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmVjdG9yWTogYmFsbC52ZWN0b3JZICogLTEsXHJcbiAgICAgICAgICAgIHZlY3Rvclg6IGJhbGwudmVjdG9yWCAqIC0xXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBUcmF2ZWxNYW5hZ2VyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBhbmltYXRlKHtcclxuICAgICAgICAgICAgdGltaW5nOiBsaW5lYXIsXHJcbiAgICAgICAgICAgIGRyYXc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmJhbGxzLmZvckVhY2goZnVuY3Rpb24gKGJhbGwpIHsgcmV0dXJuIGJhbGwubW92ZSgpOyB9KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLmNoZWNraW5nQ29uZGl0aW9uc0ZvclZlY3RvckNoYW5nZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRyYXZlbE1hbmFnZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuVHJhdmVsTWFuYWdlciA9IFRyYXZlbE1hbmFnZXI7XHJcbmZ1bmN0aW9uIGFuaW1hdGUoX2EpIHtcclxuICAgIHZhciB0aW1pbmcgPSBfYS50aW1pbmcsIGRyYXcgPSBfYS5kcmF3LCBkdXJhdGlvbiA9IF9hLmR1cmF0aW9uO1xyXG4gICAgdmFyIHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gYW5pbWF0ZSh0aW1lKSB7XHJcbiAgICAgICAgdmFyIHRpbWVGcmFjdGlvbiA9ICh0aW1lIC0gc3RhcnQpIC8gKGR1cmF0aW9uIHx8IDEpO1xyXG4gICAgICAgIGlmICh0aW1lRnJhY3Rpb24gPiAxKSB7XHJcbiAgICAgICAgICAgIHRpbWVGcmFjdGlvbiA9IGR1cmF0aW9uID8gMSA6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwcm9ncmVzcyA9IHRpbWluZyh0aW1lRnJhY3Rpb24pO1xyXG4gICAgICAgIGRyYXcocHJvZ3Jlc3MpO1xyXG4gICAgICAgIGlmICh0aW1lRnJhY3Rpb24gPCAxKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBsaW5lYXIodGltZUZyYWN0aW9uKSB7XHJcbiAgICByZXR1cm4gdGltZUZyYWN0aW9uO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaWRISmhkbVZzVFdGdVlXZGxjaTVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYklpNHVMeTR1TDJGd2NDOTBjbUYyWld4TllXNWhaMlZ5TG5SeklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN08wRkJRVUVzSzBKQlFUUkNPMEZCU1RWQ08wbEJTMGtzZFVKQlFXOUNMRXRCUVZrN1VVRkJXaXhWUVVGTExFZEJRVXdzUzBGQlN5eERRVUZQTzFGQlNHaERMRlZCUVVzc1IwRkJWeXhGUVVGRkxFTkJRVU03VVVGRGJrSXNWMEZCVFN4SFFVRnpRaXhSUVVGUkxFTkJRVU1zWVVGQllTeERRVUZETEZGQlFWRXNRMEZCUXl4RFFVRkJPMUZCUjNoRUxFbEJRVWtzUTBGQlF5eFBRVUZQTEVWQlFVVXNRMEZCUXp0UlFVTm1MRWxCUVVrc1EwRkJReXhYUVVGWExFVkJRVVVzUTBGQlFUdFJRVU5zUWl4aFFVRmhPMGxCUldwQ0xFTkJRVU03U1VGRlJDeHRRMEZCVnl4SFFVRllPMUZCUVVFc2FVSkJTME03VVVGS1J5eEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMRTlCUVU4c1IwRkJSenRaUVVOc1FpeExRVUZKTEVOQlFVTXNUMEZCVHl4RlFVRkZMRU5CUVVFN1dVRkRaQ3cyUWtGQk5rSTdVVUZEYWtNc1EwRkJReXhEUVVGQk8wbEJRMHdzUTBGQlF6dEpRVVZFTEd0RFFVRlZMRWRCUVZZN1VVRkRTU3hKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEVkQlFVY3NSVUZCUlN4RFFVRkJPMGxCUTNCQ0xFTkJRVU03U1VGRlJDd3JRa0ZCVHl4SFFVRlFPMUZCUTBrc1NVRkJUU3hIUVVGSExFZEJRVWNzU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4VlFVRlZMRVZCUVVVc1EwRkJRVHRSUVVOdVF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRWxCUVVrc1EwRkJReXhKUVVGSkxGZEJRVWtzUTBGQlF5eEhRVUZITEVWQlFVVXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF5eERRVUZCTzBsQlEzSkVMRU5CUVVNN1NVRkZSQ3g1UkVGQmFVTXNSMEZCYWtNN1VVRkJRU3hwUWtGVFF6dFJRVkpITEVsQlFVMHNXVUZCV1N4SFFVRkhMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zVFVGQlRTeERRVUZETEZWQlFVRXNTVUZCU1R0WlFVTjJReXhQUVVGQkxFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNSMEZCUnl4SlFVRkpMRXRCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zVFVGQlRTeERRVUZETEVkQlFVYzdiVUpCUTNKRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNTVUZCU1N4SlFVRkpMRXRCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zVFVGQlRTeERRVUZETEVsQlFVazdiVUpCUXpGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNTMEZCU3l4SlFVRkpMRXRCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zVFVGQlRTeERRVUZETEV0QlFVczdiVUpCUXpWRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNUVUZCVFN4SlFVRkpMRXRCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zVFVGQlRTeERRVUZETEUxQlFVMDdiVUpCUXpsRExFdEJRVWtzUTBGQlF5eHZRa0ZCYjBJc1EwRkJReXhKUVVGSkxFTkJRVU03VVVGS2JFTXNRMEZKYTBNc1EwRkRja01zUTBGQlF6dFJRVU5HTEVsQlFVa3NRMEZCUXl4WlFVRlpMRU5CUVVNc1dVRkJXU3hEUVVGRExFTkJRVUU3U1VGRGJrTXNRMEZCUXp0SlFVVkVMRFJEUVVGdlFpeEhRVUZ3UWl4VlFVRnpRaXhOUVVGWk8xRkJRV3hETEdsQ1FVOURPMUZCVGxFc1QwRkJUeXhEUVVGRExFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVczdZVUZEWkN4TlFVRk5MRU5CUVVNc1ZVRkJRU3hEUVVGRExFbEJRVWtzVDBGQlFTeERRVUZETEV0QlFVc3NUVUZCVFN4RlFVRmFMRU5CUVZrc1EwRkJRenRoUVVONlFpeEpRVUZKTEVOQlFVTXNWVUZCUVN4RFFVRkRMRWxCUVVrc1QwRkJRU3hMUVVGSkxFTkJRVU1zYTBKQlFXdENMRU5CUTJ4RExFMUJRVTBzUTBGQlF5eE5RVUZOTEVWQlEySXNRMEZCUXl4RFFVRkRMRTFCUVUwc1EwRkRXQ3hGUVVoakxFTkJSMlFzUTBGQlF5eERRVUZCTzBsQlExZ3NRMEZCUXp0SlFVVlBMREJEUVVGclFpeEhRVUV4UWl4VlFVRXlRaXhGUVVGWExFVkJRVVVzUjBGQldUdFJRVU5vUkN4UFFVRlBMRVZCUVVVc1EwRkJReXhMUVVGTExFbEJRVWtzUjBGQlJ5eERRVUZETEVsQlFVa3NTVUZCU1N4RlFVRkZMRU5CUVVNc1MwRkJTeXhIUVVGSExFZEJRVWNzUTBGQlF5eExRVUZMTEVsQlFVa3NSMEZCUnl4RFFVRkRMRWRCUVVjc1IwRkJSeXhGUVVGRkxFTkJRVU1zUjBGQlJ5eEhRVUZITEVWQlFVVXNTVUZCU1N4RlFVRkZMRU5CUVVNc1IwRkJSeXhIUVVGSExFZEJRVWNzUTBGQlF5eEhRVUZITEVkQlFVY3NSVUZCUlR0bFFVTTVSaXhGUVVGRkxFTkJRVU1zU1VGQlNTeEpRVUZKTEVkQlFVY3NRMEZCUXl4TFFVRkxMRWxCUVVrc1JVRkJSU3hEUVVGRExFbEJRVWtzUjBGQlJ5eEhRVUZITEVOQlFVTXNTVUZCU1N4SlFVRkpMRWRCUVVjc1EwRkJReXhIUVVGSExFZEJRVWNzUlVGQlJTeERRVUZETEVkQlFVY3NSMEZCUnl4RlFVRkZMRWxCUVVrc1JVRkJSU3hEUVVGRExFZEJRVWNzUjBGQlJ5eEhRVUZITEVOQlFVTXNSMEZCUnl4SFFVRkhMRVZCUVVVN1pVRkROVVlzUlVGQlJTeERRVUZETEUxQlFVMHNTVUZCU1N4SFFVRkhMRU5CUVVNc1IwRkJSeXhKUVVGSkxFVkJRVVVzUTBGQlF5eE5RVUZOTEVkQlFVY3NSMEZCUnl4RFFVRkRMRTFCUVUwc1NVRkJTU3hIUVVGSExFTkJRVU1zU1VGQlNTeEhRVUZITEVWQlFVVXNRMEZCUXl4SlFVRkpMRWRCUVVjc1JVRkJSU3hKUVVGSkxFVkJRVVVzUTBGQlF5eEpRVUZKTEVkQlFVY3NSMEZCUnl4RFFVRkRMRWxCUVVrc1IwRkJSeXhGUVVGRk8yVkJRM0JITEVWQlFVVXNRMEZCUXl4SFFVRkhMRWxCUVVrc1IwRkJSeXhEUVVGRExFMUJRVTBzU1VGQlNTeEZRVUZGTEVOQlFVTXNSMEZCUnl4SFFVRkhMRWRCUVVjc1EwRkJReXhIUVVGSExFbEJRVWtzUjBGQlJ5eERRVUZETEVsQlFVa3NSMEZCUnl4RlFVRkZMRU5CUVVNc1NVRkJTU3hIUVVGSExFVkJRVVVzU1VGQlNTeEZRVUZGTEVOQlFVTXNTVUZCU1N4SFFVRkhMRWRCUVVjc1EwRkJReXhKUVVGSkxFZEJRVWNzUlVGQlJTeERRVUZCTzBsQlEzcEhMRU5CUVVNN1NVRkZSQ3h2UTBGQldTeEhRVUZhTEZWQlFXTXNXVUZCYjBJN1VVRkJiRU1zYVVKQlQwTTdVVUZPUnl4WlFVRlpMRU5CUVVNc1QwRkJUeXhEUVVGRExGVkJRVUVzU1VGQlNUdFpRVU5tTEVsQlFVRXNhME5CUVcxRUxFVkJRV3BFTEc5Q1FVRlBMRVZCUVVVc2IwSkJRWGRETEVOQlFVTTdXVUZETVVRc1NVRkJTU3hEUVVGRExFOUJRVThzUjBGQlJ5eFBRVUZQTEVOQlFVTTdXVUZEZGtJc1NVRkJTU3hEUVVGRExFOUJRVThzUjBGQlJ5eFBRVUZQTEVOQlFVTTdXVUZEZGtJc1NVRkJTU3hEUVVGRExGbEJRVmtzUlVGQlJTeERRVUZETzFGQlEzaENMRU5CUVVNc1EwRkJReXhEUVVGQk8wbEJRMDRzUTBGQlF6dEpRVVZFTEhsRFFVRnBRaXhIUVVGcVFpeFZRVUZyUWl4SlFVRlZPMUZCUTNoQ0xFbEJRVWtzU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4SFFVRkhMRWxCUVVrc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eE5RVUZOTEVOQlFVTXNSMEZCUnl4SlFVRkpMRWxCUVVrc1EwRkJReXhQUVVGUExFZEJRVWNzUTBGQlF6dGxRVU0zUkN4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExFbEJRVWtzU1VGQlNTeEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTFCUVUwc1EwRkJReXhKUVVGSkxFbEJRVWtzU1VGQlNTeERRVUZETEU5QlFVOHNSMEZCUnl4RFFVRkRMRVZCUVVVN1dVRkRMMFFzU1VGQlRTeFBRVUZQTEVkQlFVY3NRMEZCUXl4RFFVRkRPMWxCUTJ4Q0xFbEJRVTBzVDBGQlR5eEhRVUZITEVOQlFVTXNRMEZCUXp0WlFVTnNRaXhQUVVGUExFVkJRVU1zVDBGQlR5eFRRVUZCTEVWQlFVVXNUMEZCVHl4VFFVRkJMRVZCUVVNc1EwRkJRVHRUUVVNMVFqdFJRVU5FTEVsQlFVa3NTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhIUVVGSExFbEJRVWtzU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4TlFVRk5MRU5CUVVNc1IwRkJSeXhKUVVGSkxFbEJRVWtzUTBGQlF5eFBRVUZQTEVkQlFVY3NRMEZCUXp0bFFVTTNSQ3hKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEV0QlFVc3NTVUZCU1N4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFMUJRVTBzUTBGQlF5eExRVUZMTEVsQlFVa3NTVUZCU1N4RFFVRkRMRTlCUVU4c1IwRkJSeXhEUVVGRExFVkJRVVU3V1VGRGFrVXNTVUZCVFN4UFFVRlBMRWRCUVVjc1EwRkJReXhEUVVGRExFTkJRVU03V1VGRGJrSXNTVUZCVFN4UFFVRlBMRWRCUVVjc1EwRkJReXhEUVVGRE8xbEJRMnhDTEU5QlFVOHNSVUZCUXl4UFFVRlBMRk5CUVVFc1JVRkJSU3hQUVVGUExGTkJRVUVzUlVGQlF5eERRVUZCTzFOQlF6VkNPMUZCUTBRc1NVRkJTU3hKUVVGSkxFTkJRVU1zVFVGQlRTeERRVUZETEVsQlFVa3NTVUZCU1N4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFMUJRVTBzUTBGQlF5eEpRVUZKTEVsQlFVa3NTVUZCU1N4RFFVRkRMRTlCUVU4c1IwRkJSeXhEUVVGRE8yVkJReTlFTEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1RVRkJUU3hKUVVGSkxFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNUVUZCVFN4RFFVRkRMRTFCUVUwc1NVRkJTU3hKUVVGSkxFTkJRVU1zVDBGQlR5eEhRVUZITEVOQlFVTXNSVUZCUlR0WlFVTnVSU3hKUVVGTkxFOUJRVThzUjBGQlJ5eERRVUZETEVOQlFVTTdXVUZEYkVJc1NVRkJUU3hQUVVGUExFZEJRVWNzUTBGQlF5eERRVUZETEVOQlFVTTdXVUZEYmtJc1QwRkJUeXhGUVVGRExFOUJRVThzVTBGQlFTeEZRVUZGTEU5QlFVOHNVMEZCUVN4RlFVRkRMRU5CUVVFN1UwRkROVUk3VVVGRFJDeEpRVUZKTEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1MwRkJTeXhKUVVGSkxFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNUVUZCVFN4RFFVRkRMRXRCUVVzc1NVRkJTU3hKUVVGSkxFTkJRVU1zVDBGQlR5eEhRVUZITEVOQlFVTTdaVUZEYWtVc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eE5RVUZOTEVsQlFVa3NTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhOUVVGTkxFTkJRVU1zVFVGQlRTeEpRVUZKTEVsQlFVa3NRMEZCUXl4UFFVRlBMRWRCUVVjc1EwRkJReXhGUVVGRk8xbEJRMjVGTEVsQlFVMHNUMEZCVHl4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRE8xbEJRMjVDTEVsQlFVMHNUMEZCVHl4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRE8xbEJRMjVDTEU5QlFVOHNSVUZCUXl4UFFVRlBMRk5CUVVFc1JVRkJSU3hQUVVGUExGTkJRVUVzUlVGQlF5eERRVUZCTzFOQlF6VkNPMUZCUlVRc1QwRkJUenRaUVVOSUxFOUJRVThzUlVGQlJTeEpRVUZKTEVOQlFVTXNUMEZCVHl4SFFVRkhMRU5CUVVNc1EwRkJRenRaUVVNeFFpeFBRVUZQTEVWQlFVVXNTVUZCU1N4RFFVRkRMRTlCUVU4c1IwRkJSeXhEUVVGRExFTkJRVU03VTBGRE4wSXNRMEZCUVR0SlFVTk1MRU5CUVVNN1NVRkZSQ3d5UWtGQlJ5eEhRVUZJTzFGQlFVRXNhVUpCVVVNN1VVRlFSeXhQUVVGUExFTkJRVU03V1VGRFNpeE5RVUZOTEVWQlFVVXNUVUZCVFR0WlFVTmtMRWxCUVVrc1JVRkJSVHRuUWtGRFJpeExRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTlCUVU4c1EwRkJReXhWUVVGQkxFbEJRVWtzU1VGQlNTeFBRVUZCTEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVVc1JVRkJXQ3hEUVVGWExFTkJRVU1zUTBGQlFUdG5Ra0ZEZGtNc1MwRkJTU3hEUVVGRExHbERRVUZwUXl4RlFVRkZMRU5CUVVNN1dVRkROME1zUTBGQlF6dFRRVU5LTEVOQlFVTXNRMEZCUVR0SlFVTk9MRU5CUVVNN1NVRkRUQ3h2UWtGQlF6dEJRVUZFTEVOQlFVTXNRVUY2UjBRc1NVRjVSME03UVVGNlIxa3NjME5CUVdFN1FVRXlSekZDTEZOQlFWTXNUMEZCVHl4RFFVRkRMRVZCUVcxRU8xRkJRV3hFTEd0Q1FVRk5MRVZCUVVVc1kwRkJTU3hGUVVGRkxITkNRVUZSTzBsQlJYQkRMRWxCUVVrc1MwRkJTeXhIUVVGSExGZEJRVmNzUTBGQlF5eEhRVUZITEVWQlFVVXNRMEZCUXp0SlFVVTVRaXh4UWtGQmNVSXNRMEZCUXl4VFFVRlRMRTlCUVU4c1EwRkJReXhKUVVGSk8xRkJRM1pETEVsQlFVa3NXVUZCV1N4SFFVRkhMRU5CUVVNc1NVRkJTU3hIUVVGSExFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTXNVVUZCVVN4SlFVRkpMRU5CUVVNc1EwRkJReXhEUVVGRE8xRkJRM0JFTEVsQlFVa3NXVUZCV1N4SFFVRkhMRU5CUVVNc1JVRkJRenRaUVVOcVFpeFpRVUZaTEVkQlFVY3NVVUZCVVN4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXp0VFFVTnVRenRSUVVORUxFbEJRVWtzVVVGQlVTeEhRVUZITEUxQlFVMHNRMEZCUXl4WlFVRlpMRU5CUVVNc1EwRkJRenRSUVVWd1F5eEpRVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRU5CUVVNN1VVRkRaaXhKUVVGSkxGbEJRVmtzUjBGQlJ5eERRVUZETEVWQlFVVTdXVUZEYkVJc2NVSkJRWEZDTEVOQlFVTXNUMEZCVHl4RFFVRkRMRU5CUVVNN1UwRkRiRU03U1VGRlRDeERRVUZETEVOQlFVTXNRMEZCUXp0QlFVTlFMRU5CUVVNN1FVRkZSQ3hUUVVGVExFMUJRVTBzUTBGQlF5eFpRVUZaTzBsQlEzaENMRTlCUVU4c1dVRkJXU3hEUVVGRE8wRkJRM2hDTEVOQlFVTWlmUT09IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEJhbGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBCYWxsKGRvbUVsZW0sIGZpZWxkQ29vcmRzKSB7XHJcbiAgICAgICAgdGhpcy5kb21FbGVtID0gZG9tRWxlbTtcclxuICAgICAgICB0aGlzLmZpZWxkQ29vcmRzID0gZmllbGRDb29yZHM7XHJcbiAgICAgICAgdGhpcy52ZWN0b3JYID0gNDtcclxuICAgICAgICB0aGlzLnZlY3RvclkgPSA0O1xyXG4gICAgICAgIHRoaXMuZ2V0Q29vcmRzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVEZWNvcigpO1xyXG4gICAgfVxyXG4gICAgQmFsbC5wcm90b3R5cGUuY3JlYXRlRGVjb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuYWRkRGVjb3IoZGl2KTtcclxuICAgIH07XHJcbiAgICBCYWxsLnByb3RvdHlwZS5hZGREZWNvciA9IGZ1bmN0aW9uIChkZWNvcikge1xyXG4gICAgICAgIHRoaXMuZG9tRWxlbS5hcHBlbmRDaGlsZChkZWNvcik7XHJcbiAgICAgICAgZGVjb3IuY2xhc3NMaXN0LmFkZCgnZGVjb3InKTtcclxuICAgICAgICB0aGlzLmRlY29yID0gZGVjb3I7XHJcbiAgICB9O1xyXG4gICAgQmFsbC5wcm90b3R5cGUucmV2ZXJzZURlY29yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZGVjb3Iuc3R5bGUuYW5pbWF0aW9uRGlyZWN0aW9uID09PSAnbm9ybWFsJyA/XHJcbiAgICAgICAgICAgIHRoaXMuZGVjb3Iuc3R5bGUuYW5pbWF0aW9uRGlyZWN0aW9uID0gJ3JldmVyc2UnIDpcclxuICAgICAgICAgICAgdGhpcy5kZWNvci5zdHlsZS5hbmltYXRpb25EaXJlY3Rpb24gPSAnbm9ybWFsJztcclxuICAgIH07XHJcbiAgICBCYWxsLnByb3RvdHlwZS5tb3ZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZG9tRWxlbS5zdHlsZS5sZWZ0ID0gdGhpcy5jb29yZHMubGVmdCAtICh0aGlzLmZpZWxkQ29vcmRzLmxlZnQgKyAyKSArIHRoaXMudmVjdG9yWCArICdweCc7XHJcbiAgICAgICAgdGhpcy5kb21FbGVtLnN0eWxlLnRvcCA9IHRoaXMuY29vcmRzLnRvcCAtICh0aGlzLmZpZWxkQ29vcmRzLnRvcCArIDIpICsgdGhpcy52ZWN0b3JZICsgJ3B4JztcclxuICAgICAgICB0aGlzLmdldENvb3JkcygpO1xyXG4gICAgfTtcclxuICAgIEJhbGwucHJvdG90eXBlLmdldENvb3JkcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvb3JkcyA9IHRoaXMuZG9tRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQmFsbDtcclxufSgpKTtcclxuZXhwb3J0cy5CYWxsID0gQmFsbDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pWW1Gc2JDNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpJanBiSWk0dUx5NHVMMkZ3Y0M5aVlXeHNMblJ6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3TzBGQlJVRTdTVUZOU1N4alFVTlhMRTlCUVhWQ0xFVkJRM1JDTEZkQlFXOUNPMUZCUkhKQ0xGbEJRVThzUjBGQlVDeFBRVUZQTEVOQlFXZENPMUZCUTNSQ0xHZENRVUZYTEVkQlFWZ3NWMEZCVnl4RFFVRlRPMUZCVUdoRExGbEJRVThzUjBGQlZ5eERRVUZETEVOQlFVTTdVVUZEY0VJc1dVRkJUeXhIUVVGWExFTkJRVU1zUTBGQlF6dFJRVkZvUWl4SlFVRkpMRU5CUVVNc1UwRkJVeXhGUVVGRkxFTkJRVUU3VVVGRGFFSXNTVUZCU1N4RFFVRkRMRmRCUVZjc1JVRkJSU3hEUVVGQk8wbEJRM1JDTEVOQlFVTTdTVUZGUkN3d1FrRkJWeXhIUVVGWU8xRkJRMGtzU1VGQlRTeEhRVUZITEVkQlFVY3NVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkJReXhMUVVGTExFTkJRVU1zUTBGQlF6dFJRVU14UXl4SlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETzBsQlEzWkNMRU5CUVVNN1NVRkZSQ3gxUWtGQlVTeEhRVUZTTEZWQlFWTXNTMEZCY1VJN1VVRkRNVUlzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4WFFVRlhMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU03VVVGRGFFTXNTMEZCU3l4RFFVRkRMRk5CUVZNc1EwRkJReXhIUVVGSExFTkJRVU1zVDBGQlR5eERRVUZETEVOQlFVTTdVVUZETjBJc1NVRkJTU3hEUVVGRExFdEJRVXNzUjBGQlJ5eExRVUZMTEVOQlFVTTdTVUZEZGtJc1EwRkJRenRKUVVWRUxESkNRVUZaTEVkQlFWbzdVVUZEU1N4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFdEJRVXNzUTBGQlF5eHJRa0ZCYTBJc1MwRkJTeXhSUVVGUkxFTkJRVU1zUTBGQlF6dFpRVU01UXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFdEJRVXNzUTBGQlF5eHJRa0ZCYTBJc1IwRkJSeXhUUVVGVExFTkJRVU1zUTBGQlF6dFpRVU5xUkN4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFdEJRVXNzUTBGQlF5eHJRa0ZCYTBJc1IwRkJSeXhSUVVGUkxFTkJRVU03U1VGRGRrUXNRMEZCUXp0SlFVVkVMRzFDUVVGSkxFZEJRVW83VVVGRFNTeEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRXRCUVVzc1EwRkJReXhKUVVGSkxFZEJRVWNzU1VGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4SlFVRkpMRWRCUVVjc1EwRkJReXhKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEVsQlFVa3NSMEZCUnl4RFFVRkRMRU5CUVVNc1IwRkJSeXhKUVVGSkxFTkJRVU1zVDBGQlR5eEhRVUZITEVsQlFVa3NRMEZCUXp0UlFVTXZSaXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEV0QlFVc3NRMEZCUXl4SFFVRkhMRWRCUVVjc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eEhRVUZITEVkQlFVY3NRMEZCUXl4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExFZEJRVWNzUjBGQlJ5eERRVUZETEVOQlFVTXNSMEZCUnl4SlFVRkpMRU5CUVVNc1QwRkJUeXhIUVVGSExFbEJRVWtzUTBGQlF6dFJRVU0xUml4SlFVRkpMRU5CUVVNc1UwRkJVeXhGUVVGRkxFTkJRVU03U1VGRGNrSXNRMEZCUXp0SlFVVlRMSGRDUVVGVExFZEJRVzVDTzFGQlEwa3NTVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEhGQ1FVRnhRaXhGUVVGRkxFTkJRVU03U1VGRGRrUXNRMEZCUXp0SlFVTk1MRmRCUVVNN1FVRkJSQ3hEUVVGRExFRkJlRU5FTEVsQmQwTkRPMEZCZUVOWkxHOUNRVUZKSW4wPSJdLCJzb3VyY2VSb290IjoiIn0=